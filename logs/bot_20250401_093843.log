2025-04-01 09:38:43,187 - __main__ - INFO - Starting the bot...
2025-04-01 09:38:43,813 - __main__ - INFO - Bot is ready to handle requests
2025-04-01 09:38:46,924 - __main__ - INFO - Received /compare command from chat_id: 409847377
2025-04-01 09:38:47,469 - __main__ - INFO - Successfully fetched CBR rates: {'AUD': 53.6917, 'AZN': 50.2919, 'GBP': 110.6408, 'AMD': 0.21834199999999998, 'BYN': 27.2959, 'BGN': 47.1975, 'BRL': 14.8284, 'HUF': 0.23034300000000002, 'VND': 0.0034423, 'HKD': 11.0105, 'GEL': 30.8952, 'DKK': 12.3714, 'AED': 23.2801, 'USD': 85.4963, 'EUR': 92.4276, 'EGP': 1.6901700000000002, 'INR': 0.999006, 'IDR': 0.00515411, 'KZT': 0.169831, 'CAD': 59.7584, 'QAR': 23.488, 'KGS': 0.9883379999999999, 'CNY': 11.7136, 'MDL': 4.73687, 'NZD': 48.8141, 'NOK': 8.17341, 'PLN': 22.1247, 'RON': 18.5841, 'XDR': 113.3373, 'SGD': 63.7556, 'TJS': 7.840680000000001, 'THB': 2.52105, 'TRY': 2.2618300000000002, 'TMT': 24.4275, 'UZS': 0.00662085, 'UAH': 2.06121, 'CZK': 3.70451, 'SEK': 8.53146, 'CHF': 97.0777, 'RSD': 0.790331, 'ZAR': 4.67313, 'KRW': 0.0582996, 'JPY': 0.571958}
2025-04-01 09:38:47,471 - __main__ - INFO - Fetching USD/RUB from Investing.com URL: https://www.investing.com/currencies/usd-rub
2025-04-01 09:38:47,869 - __main__ - INFO - Investing.com response status: 403
2025-04-01 09:38:47,869 - __main__ - INFO - Investing.com response headers: {'Date': 'Tue, 01 Apr 2025 06:38:47 GMT', 'Content-Type': 'text/html; charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Connection': 'close', 'accept-ch': 'Sec-CH-UA-Bitness, Sec-CH-UA-Arch, Sec-CH-UA-Full-Version, Sec-CH-UA-Mobile, Sec-CH-UA-Model, Sec-CH-UA-Platform-Version, Sec-CH-UA-Full-Version-List, Sec-CH-UA-Platform, Sec-CH-UA, UA-Bitness, UA-Arch, UA-Full-Version, UA-Mobile, UA-Model, UA-Platform-Version, UA-Platform, UA', 'cf-mitigated': 'challenge', 'critical-ch': 'Sec-CH-UA-Bitness, Sec-CH-UA-Arch, Sec-CH-UA-Full-Version, Sec-CH-UA-Mobile, Sec-CH-UA-Model, Sec-CH-UA-Platform-Version, Sec-CH-UA-Full-Version-List, Sec-CH-UA-Platform, Sec-CH-UA, UA-Bitness, UA-Arch, UA-Full-Version, UA-Mobile, UA-Model, UA-Platform-Version, UA-Platform, UA', 'cross-origin-embedder-policy': 'require-corp', 'cross-origin-opener-policy': 'same-origin', 'cross-origin-resource-policy': 'same-origin', 'origin-agent-cluster': '?1', 'permissions-policy': 'accelerometer=(),autoplay=(),browsing-topics=(),camera=(),clipboard-read=(),clipboard-write=(),geolocation=(),gyroscope=(),hid=(),interest-cohort=(),magnetometer=(),microphone=(),payment=(),publickey-credentials-get=(),screen-wake-lock=(),serial=(),sync-xhr=(),usb=()', 'referrer-policy': 'same-origin', 'server-timing': 'chlray;desc="929615ed1d90be6e"', 'x-content-options': 'nosniff', 'x-frame-options': 'SAMEORIGIN', 'cf-chl-out': '7gG9bh2UjyGdGKTCa+ae7Xw03X0TH669c7r2D64wZ1eCRSx6dFD9jTT8+9Jw6n9ai/8q6ZF4WIo6RyXNG7/szA8OF3H/qM2qpqhK4otXaEvgtOVSEkC71/6CEHXapimaqxrKbxjAgTySnx6ImYW8xA==$HJUwbGcJsRMOl1iNaRM0jA==', 'Cache-Control': 'private, max-age=0, no-store, no-cache, must-revalidate, post-check=0, pre-check=0', 'Expires': 'Thu, 01 Jan 1970 00:00:01 GMT', 'Set-Cookie': '__cf_bm=YPyz3QMzYiA.jI4yTYYldQ4f2iST9NlmHIupe4ToaHY-1743489527-1.0.1.1-3YuUowRkPzNDEImqr6K4AzdagtUk1Ax2RoLxnnPuRojIPxrIaYYFEApqYsS5hZxXmoQX.ealp6lHKUif8_iwKI_rk1X5A0ZduWCNlxjOdxbzh9E66XS4O7LfsrDgBe4l; path=/; expires=Tue, 01-Apr-25 07:08:47 GMT; domain=.investing.com; HttpOnly; Secure; SameSite=None', 'Vary': 'Accept-Encoding', 'Server': 'cloudflare', 'CF-RAY': '929615ed1d90be6e-AMS', 'Content-Encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'}
2025-04-01 09:38:47,871 - __main__ - ERROR - Error fetching Investing.com rate for USD/RUB: 403 Client Error: Forbidden for url: https://www.investing.com/currencies/usd-rub
2025-04-01 09:38:47,871 - __main__ - ERROR - Response content: <!DOCTYPE html><html lang="en-US"><head><title>Just a moment...</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="robots" content="noindex,nofollow"><meta name="viewport" content="width=device-width,initial-scale=1"><style>*{box-sizing:border-box;margin:0;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%;color:#313131;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}body{display:flex;flex-direction:column;height:100vh;min-height:100vh}.main-content{margin:8rem auto;max-width:60rem;padding-left:1.5rem}@media (width <= 720px){.main-content{margin-top:4rem}}.h2{font-size:1.5rem;font-weight:500;line-height:2.25rem}@media (width <= 720px){.h2{font-size:1.25rem;line-height:1.5rem}}#challenge-error-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0i...
2025-04-01 09:38:47,871 - __main__ - INFO - Fetching CNY/RUB from Investing.com URL: https://www.investing.com/currencies/cny-rub
2025-04-01 09:38:48,517 - __main__ - INFO - Investing.com response status: 200
2025-04-01 09:38:48,517 - __main__ - INFO - Investing.com response headers: {'Date': 'Tue, 01 Apr 2025 06:38:48 GMT', 'Content-Type': 'text/html; charset=utf-8', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Vary': 'Accept-Encoding', 'inv-version': '86e9272', 'cache-control': 'private, no-cache, no-store, max-age=0, must-revalidate', 'Set-Cookie': 'gcc=NL; Max-Age=1800; domain=investing.com; Path=/, gsc=; Max-Age=1800; domain=investing.com; Path=/, udid=7020260181a5bbdcc2202e6126db85c6; Max-Age=31536000; domain=investing.com; Path=/, smd=7020260181a5bbdcc2202e6126db85c6-1743489528; Max-Age=1800; domain=investing.com; Path=/, firstUdid=1; Max-Age=2; domain=investing.com; Path=/, invab=adconf_1|adesm_1|keysignup_1|mwebd_1|noadnews_1|ovadsb_0|ovpromo_2|regwall_0; Domain=investing.com; Path=/; Max-Age=31536000, __cf_bm=N3oYyrwL53lQCp4_C6AfEkYdb44V9mu7niKGRV9YzPE-1743489528-1.0.1.1-H3vFpdvTi0Rz7oUNRMHHhCBsMeEfg.UvpFHib3cYD_VtSgoJL6LZGYY0r2MhEmCgmt.ovJo7A12Zg9kArlLcDyvSuBWgoyLx1fO4Euv67aFAX_BFjQ5NjHi1_c.aFdEQ; path=/; expires=Tue, 01-Apr-25 07:08:48 GMT; domain=.investing.com; HttpOnly; Secure; SameSite=None, __cflb=02DiuGRugds2TUWHMkkPGro65dgYiP188kJWJo1P7xBbr; SameSite=None; Secure; path=/; expires=Wed, 02-Apr-25 05:38:48 GMT; HttpOnly', 'Cross-Origin-Embedder-Policy': 'unsafe-none', 'Cross-Origin-Opener-Policy': 'cross-origin', 'Cross-Origin-Resource-Policy': 'cross-origin', 'Content-Security-Policy-Report-Only': "default-src https: data: wss: 'unsafe-inline' 'unsafe-eval'; form-action https:; report-uri https://rbmeuulvihtwm2eltjhwimi2.httpschecker.net/report", 'Content-Security-Policy': 'upgrade-insecure-requests; block-all-mixed-content', 'Access-Control-Allow-Origin': '*', 'X-Cache-Status': 'MISS', 'X-Environment': 'ams-prod', 'X-Request-ID': '7020260181a5bbdcc2202e6126db85c6', 'cf-cache-status': 'DYNAMIC', 'Server-Timing': 'cfCacheStatus;desc="DYNAMIC"', 'Server': 'cloudflare', 'CF-RAY': '929615ef2b3165f1-AMS', 'Content-Encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'}
2025-04-01 09:38:48,661 - __main__ - INFO - Trying selector div[data-test="instrument-price-last"]
2025-04-01 09:38:48,690 - __main__ - INFO - Found 1 elements with selector div[data-test="instrument-price-last"]
2025-04-01 09:38:48,690 - __main__ - INFO - Found element with text: 11.7097
2025-04-01 09:38:48,690 - __main__ - INFO - Successfully parsed rate 11.7097 from 11.7097
2025-04-01 09:38:48,693 - __main__ - INFO - Fetching USD/CNY from Investing.com URL: https://www.investing.com/currencies/usd-cny
2025-04-01 09:38:49,366 - __main__ - INFO - Investing.com response status: 200
2025-04-01 09:38:49,366 - __main__ - INFO - Investing.com response headers: {'Date': 'Tue, 01 Apr 2025 06:38:49 GMT', 'Content-Type': 'text/html; charset=utf-8', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Vary': 'Accept-Encoding', 'inv-version': '86e9272', 'cache-control': 'private, no-cache, no-store, max-age=0, must-revalidate', 'Set-Cookie': 'gcc=NL; Max-Age=1800; domain=investing.com; Path=/, gsc=; Max-Age=1800; domain=investing.com; Path=/, udid=dfc66437254014bae165d0a96fee5ac0; Max-Age=31536000; domain=investing.com; Path=/, smd=dfc66437254014bae165d0a96fee5ac0-1743489529; Max-Age=1800; domain=investing.com; Path=/, firstUdid=1; Max-Age=2; domain=investing.com; Path=/, invab=adconf_0|adesm_1|keysignup_0|mwebd_0|noadnews_0|ovadsb_0|ovpromo_2|regwall_2; Domain=investing.com; Path=/; Max-Age=31536000, __cf_bm=LTI2ZnWCOUuhv_WPmnACI4yZUtqkHHejNT8Wu_8uoG8-1743489529-1.0.1.1-Dka05S27DAnNHxgCgfhoa0HHYACAzptrT5mC0wdCXhS2SiQGvVbs0b1MVtMlPhyk5Y2QzXvNFBXpNnZB9TkVQCzSWKmerOwUUX7I75PcSUcTSnQvObPgguxMTr49kcJ5; path=/; expires=Tue, 01-Apr-25 07:08:49 GMT; domain=.investing.com; HttpOnly; Secure; SameSite=None, __cflb=02DiuGRugds2TUWHMkkPGro65dgYiP188m3Kpza2kDr6G; SameSite=None; Secure; path=/; expires=Wed, 02-Apr-25 05:38:49 GMT; HttpOnly', 'Cross-Origin-Embedder-Policy': 'unsafe-none', 'Cross-Origin-Opener-Policy': 'cross-origin', 'Cross-Origin-Resource-Policy': 'cross-origin', 'Content-Security-Policy-Report-Only': "default-src https: data: wss: 'unsafe-inline' 'unsafe-eval'; form-action https:; report-uri https://rbmeuulvihtwm2eltjhwimi2.httpschecker.net/report", 'Content-Security-Policy': 'upgrade-insecure-requests; block-all-mixed-content', 'Access-Control-Allow-Origin': '*', 'X-Cache-Status': 'MISS', 'X-Environment': 'ams-prod', 'X-Request-ID': 'dfc66437254014bae165d0a96fee5ac0', 'cf-cache-status': 'DYNAMIC', 'Server-Timing': 'cfCacheStatus;desc="DYNAMIC"', 'Server': 'cloudflare', 'CF-RAY': '929615f4495a170a-AMS', 'Content-Encoding': 'br', 'alt-svc': 'h3=":443"; ma=86400'}
2025-04-01 09:38:49,603 - __main__ - INFO - Trying selector div[data-test="instrument-price-last"]
2025-04-01 09:38:49,651 - __main__ - INFO - Found 1 elements with selector div[data-test="instrument-price-last"]
2025-04-01 09:38:49,651 - __main__ - INFO - Found element with text: 7.2675
2025-04-01 09:38:49,658 - __main__ - INFO - Successfully parsed rate 7.2675 from 7.2675
2025-04-01 09:38:49,662 - __main__ - INFO - Fetching USD/RUB from Profinance URL: https://www.profinance.ru/chart/usdrub/
2025-04-01 09:38:50,191 - __main__ - INFO - Profinance response status: 200
2025-04-01 09:38:50,191 - __main__ - INFO - Profinance response headers: {'Date': 'Tue, 01 Apr 2025 06:38:50 GMT', 'Content-Type': 'text/html; charset=utf-8', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=45', 'Server': 'nginx', 'X-script': 'chart/chartout', 'Content-Encoding': 'gzip', 'Vary': 'Accept-Encoding', 'X-conf': 'news1-www, www-to-news1'}
2025-04-01 09:38:50,207 - __main__ - INFO - Trying selector span.price
2025-04-01 09:38:50,209 - __main__ - INFO - Found 0 elements with selector span.price
2025-04-01 09:38:50,210 - __main__ - INFO - Trying selector #last_last
2025-04-01 09:38:50,212 - __main__ - INFO - Found 0 elements with selector #last_last
2025-04-01 09:38:50,212 - __main__ - INFO - Trying selector .price-large
2025-04-01 09:38:50,215 - __main__ - INFO - Found 0 elements with selector .price-large
2025-04-01 09:38:50,215 - __main__ - INFO - Trying selector #last
2025-04-01 09:38:50,218 - __main__ - INFO - Found 0 elements with selector #last
2025-04-01 09:38:50,219 - __main__ - INFO - Trying selector [class*="price"]
2025-04-01 09:38:50,222 - __main__ - INFO - Found 0 elements with selector [class*="price"]
2025-04-01 09:38:50,222 - __main__ - INFO - Trying selector [id*="price"]
2025-04-01 09:38:50,225 - __main__ - INFO - Found 0 elements with selector [id*="price"]
2025-04-01 09:38:50,226 - __main__ - INFO - Trying selector [class*="last"]
2025-04-01 09:38:50,229 - __main__ - INFO - Found 0 elements with selector [class*="last"]
2025-04-01 09:38:50,229 - __main__ - INFO - Trying selector [id*="last"]
2025-04-01 09:38:50,232 - __main__ - INFO - Found 0 elements with selector [id*="last"]
2025-04-01 09:38:50,232 - __main__ - ERROR - Could not find rate element for USD/RUB on Profinance
2025-04-01 09:38:50,236 - __main__ - INFO - Fetching CNY/RUB from Profinance URL: https://www.profinance.ru/chart/cnyrub/
2025-04-01 09:38:50,736 - __main__ - INFO - Profinance response status: 200
2025-04-01 09:38:50,736 - __main__ - INFO - Profinance response headers: {'Date': 'Tue, 01 Apr 2025 06:38:50 GMT', 'Content-Type': 'text/html; charset=utf-8', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Keep-Alive': 'timeout=45', 'Server': 'nginx', 'X-script': 'chart/chartout', 'Content-Encoding': 'gzip', 'Vary': 'Accept-Encoding', 'X-conf': 'news1-www, www-to-news1'}
2025-04-01 09:38:50,757 - __main__ - INFO - Trying selector span.price
2025-04-01 09:38:50,759 - __main__ - INFO - Found 0 elements with selector span.price
2025-04-01 09:38:50,759 - __main__ - INFO - Trying selector #last_last
2025-04-01 09:38:50,759 - __main__ - INFO - Found 0 elements with selector #last_last
2025-04-01 09:38:50,759 - __main__ - INFO - Trying selector .price-large
2025-04-01 09:38:50,765 - __main__ - INFO - Found 0 elements with selector .price-large
2025-04-01 09:38:50,765 - __main__ - INFO - Trying selector #last
2025-04-01 09:38:50,769 - __main__ - INFO - Found 0 elements with selector #last
2025-04-01 09:38:50,769 - __main__ - INFO - Trying selector [class*="price"]
2025-04-01 09:38:50,773 - __main__ - INFO - Found 0 elements with selector [class*="price"]
2025-04-01 09:38:50,773 - __main__ - INFO - Trying selector [id*="price"]
2025-04-01 09:38:50,777 - __main__ - INFO - Found 0 elements with selector [id*="price"]
2025-04-01 09:38:50,777 - __main__ - INFO - Trying selector [class*="last"]
2025-04-01 09:38:50,781 - __main__ - INFO - Found 0 elements with selector [class*="last"]
2025-04-01 09:38:50,783 - __main__ - INFO - Trying selector [id*="last"]
2025-04-01 09:38:50,786 - __main__ - INFO - Found 0 elements with selector [id*="last"]
2025-04-01 09:38:50,786 - __main__ - ERROR - Could not find rate element for CNY/RUB on Profinance
2025-04-01 09:38:50,851 - __main__ - INFO - Successfully sent comparison for chat_id: 409847377
